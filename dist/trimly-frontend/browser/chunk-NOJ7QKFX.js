import{$ as c,Aa as $,B as p,Ba as d,Ca as E,K as C,Na as M,Oa as S,Pa as R,Q as y,R as v,V as o,W as r,X as B,Z as _,_ as l,ea as s,fa as u,l as b,na as k,o as g,p as I,r as f,v as m,w as h,z as x}from"./chunk-EIAEMANE.js";var N=(()=>{class i{constructor(t){this.http=t,this.api=S.apiUrl}createBooking(t){return this.http.post(`${this.api}/customer/bookings`,t)}getMyBookings(){return this.http.get(`${this.api}/customer/bookings`)}cancelMyBooking(t){return this.http.post(`${this.api}/customer/bookings/${t}/cancel`,{})}rateBooking(t,e){return this.http.post(`${this.api}/customer/bookings/${t}/rate`,e)}respondReschedule(t,e){let n={accept:e};return this.http.post(`${this.api}/customer/bookings/${t}/reschedule/respond`,n)}updateProfile(t){return this.http.patch(`${this.api}/customer/profile`,{fullName:t})}getBarberBookings(t){let e=new d;return t&&(e=e.set("status",t)),this.http.get(`${this.api}/barber/bookings`,{params:e})}getBarberStats(){return this.http.get(`${this.api}/barber/bookings/stats`)}acceptBooking(t){return this.http.post(`${this.api}/barber/bookings/${t}/accept`,{})}rejectBooking(t,e){return this.http.post(`${this.api}/barber/bookings/${t}/reject`,{cancelReason:e})}cancelBooking(t,e){return this.http.post(`${this.api}/barber/bookings/${t}/cancel`,{cancelReason:e})}completeBooking(t){return this.http.post(`${this.api}/barber/bookings/${t}/complete`,{})}requestReschedule(t,e){return this.http.post(`${this.api}/barber/bookings/${t}/reschedule`,e)}adminGetAllBookings(t){let e=new d;return t&&(e=e.set("status",t)),this.http.get(`${this.api}/admin/bookings`,{params:e})}adminGetStats(){return this.http.get(`${this.api}/admin/stats`)}static{this.\u0275fac=function(e){return new(e||i)(g(E))}}static{this.\u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function A(i,T){if(i&1){let t=_();o(0,"button",10),l("click",function(){m(t);let n=c();return h(n.notifClick.emit())}),s(1," \u{1F514} "),B(2,"span",11),r()}}function L(i,T){if(i&1){let t=_();o(0,"button",15),l("click",function(){m(t);let n=c(2);return n.settingsClick.emit(),h(n.menuOpen=!1)}),s(1,"\u2699\uFE0F Settings"),r()}}function V(i,T){if(i&1){let t=_();o(0,"div",9),C(1,L,2,0,"button",12),o(2,"button",13),l("click",function(){m(t);let n=c();return n.auth.logout(),h(n.menuOpen=!1)}),s(3," \u{1F6AA} Logout "),r(),o(4,"button",14),l("click",function(){m(t);let n=c();return n.auth.logout(!0),h(n.menuOpen=!1)}),s(5," Logout all devices "),r()()}if(i&2){let t=c();p(),v(1,t.showSettings?1:-1)}}var Y=(()=>{class i{constructor(){this.notifCount=0,this.showSettings=!1,this.notifClick=new x,this.settingsClick=new x,this.auth=I(R),this.menuOpen=!1}get initials(){return(this.auth.user()?.fullName||"U").split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase()}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=f({type:i,selectors:[["app-topbar"]],inputs:{notifCount:"notifCount",showSettings:"showSettings"},outputs:{notifClick:"notifClick",settingsClick:"settingsClick"},standalone:!0,features:[k],decls:16,vars:5,consts:[[1,"topbar"],[1,"topbar-brand"],[2,"color","var(--text3)","font-weight","400"],[2,"display","flex","align-items","center","gap","10px"],[1,"notif-btn"],[1,"user-pill",2,"position","relative",3,"click"],[1,"up-av"],[1,"up-name"],[1,"up-role"],[2,"position","absolute","top","48px","right","0","background","var(--card)","border","1px solid var(--border2)","border-radius","12px","padding","8px","min-width","160px","z-index","200","box-shadow","var(--shadow-md)"],[1,"notif-btn",3,"click"],[1,"notif-dot"],[1,"sb-item"],[1,"sb-item",2,"color","var(--crimson)",3,"click"],[1,"sb-item",2,"color","var(--text3)","font-size","11px",3,"click"],[1,"sb-item",3,"click"]],template:function(e,n){if(e&1&&(o(0,"div",0)(1,"div",1),s(2,"TRIM"),o(3,"span",2),s(4,"LY"),r()(),o(5,"div",3),C(6,A,3,0,"button",4),o(7,"div",5),l("click",function(){return n.menuOpen=!n.menuOpen}),o(8,"div",6),s(9),r(),o(10,"div")(11,"div",7),s(12),r(),o(13,"div",8),s(14),r()(),C(15,V,6,1,"div",9),r()()()),e&2){let a,w;p(6),v(6,n.notifCount>0?6:-1),p(3),u(n.initials),p(3),u(((a=n.auth.user())==null?null:a.fullName)||"User"),p(2),u((w=n.auth.user())==null?null:w.role),p(),v(15,n.menuOpen?15:-1)}},dependencies:[$,M],encapsulation:2})}}return i})();var Z=(()=>{class i{constructor(t){this.http=t,this.api=S.apiUrl}getPublicShops(t,e,n){let a=new d;return t&&(a=a.set("q",t)),e&&(a=a.set("city",e)),n&&(a=a.set("area",n)),this.http.get(`${this.api}/shops/public`,{params:a})}getShopById(t){return this.http.get(`${this.api}/shops/public/${t}`)}getShopBySlug(t){return this.http.get(`${this.api}/shops/public/slug/${t}`)}getSlots(t,e){return this.http.get(`${this.api}/shops/${t}/slots`,{params:{date:e}})}getLocationMeta(){return this.http.get(`${this.api}/location/meta`)}getMyShop(){return this.http.get(`${this.api}/barber/shop`)}updateMyShop(t){return this.http.patch(`${this.api}/barber/shop`,t)}addService(t){return this.http.post(`${this.api}/barber/services`,t)}updateService(t,e){return this.http.put(`${this.api}/barber/services/${t}`,e)}toggleService(t){return this.http.patch(`${this.api}/barber/services/${t}/toggle`,{})}deleteService(t){return this.http.delete(`${this.api}/barber/services/${t}`)}getBlockedSlots(t){return this.http.get(`${this.api}/barber/blocked-slots?date=${t}`)}blockSlot(t,e){return this.http.post(`${this.api}/barber/blocked-slots`,{date:t,slotTime:e})}unblockSlot(t,e){return this.http.delete(`${this.api}/barber/blocked-slots`,{body:{date:t,slotTime:e}})}adminGetAllShops(){return this.http.get(`${this.api}/admin/shops`)}adminApprove(t){return this.http.post(`${this.api}/admin/shops/${t}/approve`,{})}adminDisable(t){return this.http.post(`${this.api}/admin/shops/${t}/disable`,{})}adminEnable(t){return this.http.post(`${this.api}/admin/shops/${t}/enable`,{})}adminSetCommission(t,e){return this.http.patch(`${this.api}/admin/shops/${t}/commission`,{percent:e})}static{this.\u0275fac=function(e){return new(e||i)(g(E))}}static{this.\u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var it=(()=>{class i{constructor(){this.status=""}get cls(){return{ACTIVE:"bg",active:"bg",PENDING:"by",pending:"by",CONFIRMED:"bb",confirmed:"bb",COMPLETED:"bm",completed:"bm",REJECTED:"br",rejected:"br",CANCELLED:"br",cancelled:"br",DISABLED:"br",disabled:"br",RESCHEDULE_REQUESTED:"by"}[this.status]||"bm"}get label(){return{ACTIVE:"\u25CF Active",active:"\u25CF Active",PENDING:"\u23F3 Pending",pending:"\u23F3 Pending",CONFIRMED:"\u2713 Confirmed",confirmed:"\u2713 Confirmed",COMPLETED:"\u{1F3C1} Done",completed:"\u{1F3C1} Done",REJECTED:"\u2715 Rejected",rejected:"\u2715 Rejected",CANCELLED:"\u{1F6AB} Cancelled",cancelled:"\u{1F6AB} Cancelled",DISABLED:"\u26D4 Disabled",disabled:"\u26D4 Disabled",RESCHEDULE_REQUESTED:"\u{1F504} Reschedule"}[this.status]||this.status}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=f({type:i,selectors:[["app-badge"]],inputs:{status:"status"},standalone:!0,features:[k],decls:2,vars:4,template:function(e,n){e&1&&(o(0,"span"),s(1),r()),e&2&&(y("badge ",n.cls,""),p(),u(n.label))},dependencies:[$],encapsulation:2})}}return i})();export{N as a,Y as b,Z as c,it as d};
